<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Generated by andromda-jsf cartridge (views\facelets\view-table.xhtml.vsl) DO NOT EDIT! -->
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:p="http://primefaces.org/ui">
    <p:dataTable id="loans" var="row" value="#{viewVariables.loans}" rows="10" paginator="true" paginatorPosition="top" paginatorAlwaysVisible="false" emptyMessage="#{messages['empty.result.set']}">
        <p:column style="width:70px;" exportable="false">
            <p:commandButton id="searchLoansDetailsAction" icon="ui-icon-circle-check" action="#{loanSearchController.searchLoansDetails}" immediate="true">
                <f:setPropertyActionListener target="#{searchLoansSearchLoansDetailsForm.id}" value="#{row.id}"/>
            </p:commandButton>
            <p:commandButton id="searchLoansEditAction" icon="ui-icon-circle-pencil" action="#{loanSearchController.searchLoansEdit}" immediate="true">
                <f:setPropertyActionListener target="#{searchLoansSearchLoansEditForm.id}" value="#{row.id}"/>
            </p:commandButton>
        </p:column>
        <p:column sortBy="#{row.motsheloInstance.instanceName}">
			<f:facet name="header">
				<h:outputText id="columnHeader_motsheloInstance"
					value="#{messages['motshelo.instance']}" />
			</f:facet>
			<h:outputText id="motsheloInstance"
				value="#{row.motsheloInstance.instanceName}">
			</h:outputText>
		</p:column>
		<p:column sortBy="#{row.status}">
			<f:facet name="header">
				<h:outputText id="columnHeader_status"
					value="#{messages['status']}" />
			</f:facet>
			<h:outputText id="status"
				value="#{row.status}">
			</h:outputText>
		</p:column>
		<p:column sortBy="#{row.instanceMember.member.username}">
			<f:facet name="header">
				<h:outputText id="columnHeader_instanceMember"
					value="#{messages['instance.member']}" />
			</f:facet>
			<h:outputText id="instanceMember"
				value="#{row.instanceMember.member.name.concat(' ').concat(row.instanceMember.member.surname)}">
			</h:outputText>
		</p:column>
		<p:column sortBy="#{row.startDate}">
			<f:facet name="header">
				<h:outputText id="columnHeader_startDate" value="#{messages['start.date']}" />
			</f:facet>
			<h:outputText id="startDate" value="#{row.startDate}">
			</h:outputText>
		</p:column>
		<p:column sortBy="#{row.expectedEndDate}">
			<f:facet name="header">
				<h:outputText id="columnHeader_expectedEndDate" value="#{messages['expected.end.date']}" />
			</f:facet>
			<h:outputText id="expectedEndDate" value="#{row.expectedEndDate}">
			</h:outputText>
		</p:column>
		<p:column sortBy="#{row.actualEndDate}">
			<f:facet name="header">
				<h:outputText id="columnHeader_actualEndDate" value="#{messages['actual.end.date']}" />
			</f:facet>
			<h:outputText id="actualEndDate" value="#{row.actualEndDate}">
			</h:outputText>
		</p:column>
		<p:column sortBy="#{row.amount}">
			<f:facet name="header">
				<h:outputText id="columnHeader_amount" value="#{messages['amount']}" />
			</f:facet>
			<h:outputText id="amount" value="#{row.amount}">
			</h:outputText>
		</p:column>
		<p:column sortBy="#{row.balance}">
			<f:facet name="header">
				<h:outputText id="columnHeader_balance" value="#{messages['balance']}" />
			</f:facet>
			<h:outputText id="balance" value="#{row.balance}">
			</h:outputText>
		</p:column>                 
		<f:facet name="footer">
			<h:form>
				<p:menuButton value="#{messages['export.action']}" rendered="#{not empty viewVariables.loans}">
					<p:menuitem value="#{messages['export.spreadsheet']}" ajax="false"> 
						<p:dataExporter type="xls" target="loans" fileName="export" excludeColumns="0" encoding="ISO-8859-1" />
					</p:menuitem>
					<p:menuitem value="#{messages['export.pdf']}">
						<p:dataExporter type="pdf" target="loans" fileName="export" excludeColumns="0" encoding="ISO-8859-1" />
					</p:menuitem>
					<p:menuitem value="#{messages['export.csv']}" ajax="false">
						<p:dataExporter type="csv" target="loans" fileName="export" excludeColumns="0" encoding="ISO-8859-1" />
					</p:menuitem>
				</p:menuButton>
			</h:form>
			<p:spacer width="10" />
			<h:outputText
				value="#{fn:length(viewVariables.loans)} #{messages['records.found']}" rendered="#{not empty viewVariables.loans}" />
		</f:facet>
    </p:dataTable>
</ui:composition>